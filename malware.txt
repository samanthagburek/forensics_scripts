Configurations using FlareVM and RemnuxVM
- This uses only adapter 2 on both VMs, all other adapters are disabled
- Use host-only network, same name-vboxnet0, and promiscuous mode:allow vms, and cable connected is checked off 

On Remnux:
Set ip address in Remnux in /etc/netplan/01-netcfg.yaml (sets ip to 192.168.56.20)
network:
  version: 2
  remderer: networkd
  ethernets:
    enp0s8: 
      dhcp4: no
      addresses: [192.168.56.20/24]
- note the enp0s8 can change depending on what adapter using, check ip addr to see

On flare:
- click the network icon->network settings->change adapter options->ethernet2->properties->Internet Protocol Version 4 then hit properties button
- Click use following IP address:
IP address: 192.168.56.21
Subnet: 255.255.255.0
Default gateway: 192.168.56.20
-Use following DNS server addresses:
Preferred DNS server: 192->168->56->20

In inetsim config:
Ensure the dns service is started
Ensure DNS is bound to port 53
Ensure dns_default_ip is set to the IP of your REMnux VM (192.168.56.20)
So essentially what we are doing is having Windows use the REMnux VM as its DNS server, and inetsim is going to respond to every DNS request (regardless of the domain name) with its own IP address.
Then turn on wireshark in flare and run code

What port does the malware try to connect to on what it believes to be the IP address of the third domain? Let's keep going, and try and figure out what would happen if the malware was able to connect to its intended destination.
Assuming the malware is attempting to communicate over HTTP, enable the HTTP listener in inetsim (close inetsim first before editing the config file). 
Ensure you set the http_bind_port to the port (1337) you discovered in the previous question. 
Once saved, restart inetsim, then switch to your Windows VM, start up Wireshark capturing and run the malware again. 

